<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>iOS Tutorial ID Append Test</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    label { display: block; margin-top: 12px; }
    input { padding: 6px; width: 250px; }
    button { margin-top: 20px; padding: 8px 16px; background: #ffd95e; border: none; font-weight: bold; cursor: pointer; }
    #result { margin-top: 16px; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h2>iOS Tutorial ID Debugger</h2>
  <label>ğŸ” User ID:
    <input type="text" id="userIdInput" placeholder="ì˜ˆ: student123">
  </label>

  <label>ğŸ“Œ Tutorial ID:
    <input type="text" id="tutorialIdInput" placeholder="ì˜ˆ: tutorial84759340">
  </label>

  <button onclick="sendAppendRequest()">ğŸš€ ì„œë²„ì— ì¶”ê°€ ìš”ì²­</button>

  <div id="result"></div>

  <script>
    async function sendAppendRequest() {
      const userId = document.getElementById('userIdInput').value.trim();
      const tutorialId = document.getElementById('tutorialIdInput').value.trim();
      const resultBox = document.getElementById('result');

      if (!userId || !tutorialId) {
        resultBox.textContent = "âŒ ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
        return;
      }

      try {
        const res = await fetch('https://port-0-ltryi-database-1ru12mlw3glz2u.sel5.cloudtype.app/api/append-tutorial-id-fromios', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ userId, tutorialId })
        });

        const data = await res.json();
        resultBox.textContent = `âœ… ì‘ë‹µ ì½”ë“œ: ${res.status}\nğŸ“¦ ì‘ë‹µ ë‚´ìš©:\n${JSON.stringify(data, null, 2)}`;
      } catch (err) {
        resultBox.textContent = "ğŸš¨ ì˜¤ë¥˜ ë°œìƒ: " + err.message;
      }
    }
  </script>
</body>
</html>
